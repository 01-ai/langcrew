---
title: WebæœåŠ¡ - å¿«é€Ÿå¼€å§‹
description: 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹WebæœåŠ¡
---

å¿«é€ŸæŒ‡å—ï¼Œè®©WebæœåŠ¡åœ¨æ‚¨çš„langcrewåº”ç”¨ä¸­å·¥ä½œã€‚

## å®‰è£…

WebæœåŠ¡åŒ…å«åœ¨langcrewä¸­ - æ— éœ€é¢å¤–å®‰è£…ï¼š

```bash
uv add langcrew --prerelease=allow --index https://nexus.lingyiwanwu.net/repository/pypi-hosted/simple
```

## åŸºç¡€ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªä¸ºæ™ºèƒ½ä½“åˆ›å»ºWebæœåŠ¡å™¨çš„ç®€å•ç¤ºä¾‹ï¼š

```python
from langcrew import Agent
from langcrew.web import create_server

# åˆ›å»ºæ™ºèƒ½ä½“
agent = Agent(
    role="WebåŠ©æ‰‹",
    goal="é€šè¿‡Webç•Œé¢å¸®åŠ©ç”¨æˆ·",
    backstory="æ‚¨æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŸºäºWebçš„AIåŠ©æ‰‹",
    verbose=True
)

# åˆ›å»ºå¹¶å¯åŠ¨æœåŠ¡å™¨
server = create_server(
    agents=[agent],
    host="0.0.0.0",
    port=8000,
    cors_origins=["http://localhost:3000"]
)

# å¯åŠ¨æœåŠ¡å™¨
if __name__ == "__main__":
    print("åœ¨ http://localhost:8000 å¯åŠ¨WebæœåŠ¡å™¨")
    server.run()
```

## LangGraph é›†æˆç¤ºä¾‹

ç”¨äºæ›´é«˜çº§çš„LangGraphå·¥ä½œæµï¼š

```python
from langcrew import Agent, Crew
from langcrew.web import create_langgraph_server

# åˆ›å»ºæ™ºèƒ½ä½“å’Œå›¢é˜Ÿ
researcher = Agent(
    role="ç ”ç©¶ä¸“å®¶",
    goal="æ”¶é›†ä¸»é¢˜ä¿¡æ¯",
    backstory="å…·æœ‰Webè®¿é—®æƒé™çš„ä¸“ä¸šç ”ç©¶å‘˜"
)

writer = Agent(
    role="å†…å®¹ä½œå®¶", 
    goal="åˆ›å»ºå¼•äººå…¥èƒœçš„å†…å®¹",
    backstory="åˆ›å»ºå¼•äººæ³¨ç›®å†…å®¹çš„ç†Ÿç»ƒä½œå®¶"
)

crew = Crew(agents=[researcher, writer])

# åˆ›å»ºæ”¯æŒLangGraphçš„æœåŠ¡å™¨
server = create_langgraph_server(
    crew=crew,
    host="0.0.0.0",
    port=8000,
    enable_streaming=True,
    tool_display=True
)

# å¯åŠ¨æœåŠ¡å™¨
server.run()
```

## æµå¼ä¼ è¾“ç¤ºä¾‹

å¯ç”¨å®æ—¶æµå¼å“åº”ï¼š

```python
from langcrew.web import AdapterServer, LangGraphAdapter

# åˆ›å»ºæ”¯æŒæµå¼ä¼ è¾“çš„é€‚é…å™¨
adapter = LangGraphAdapter(
    crew=crew,
    enable_streaming=True,
    stream_tool_calls=True,
    tool_display=True
)

# åˆ›å»ºæœåŠ¡å™¨
server = AdapterServer(
    adapter=adapter,
    host="0.0.0.0",
    port=8000
)

server.run()
```

## æµ‹è¯•æ‚¨çš„è®¾ç½®

### ä½¿ç”¨ cURL æµ‹è¯•

```bash
# æµ‹è¯•åŸºæœ¬èŠå¤©ç«¯ç‚¹
curl -X POST http://localhost:8000/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "ä½ å¥½ï¼Œä½ èƒ½å¸®æˆ‘è¿›è¡Œç ”ç©¶å—ï¼Ÿ"}'

# æµ‹è¯•ä»»åŠ¡æ‰§è¡Œ
curl -X POST http://localhost:8000/execute \
  -H "Content-Type: application/json" \
  -d '{"task": "research_topic", "input": {"topic": "AIè¶‹åŠ¿"}}'
```

### ä½¿ç”¨ SSE (Server-Sent Events) æµ‹è¯•

```javascript
// ä½¿ç”¨ SSE è¿æ¥åˆ°æµå¼ç«¯ç‚¹
const eventSource = new EventSource('http://localhost:8000/api/v1/chat', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        message: 'æ¥è‡ªSSEçš„é—®å€™ï¼',
        session_id: 'test-session'
    })
});

eventSource.onmessage = function(event) {
    const data = JSON.parse(event.data);
    console.log('æ”¶åˆ°:', data);
};

eventSource.onerror = function(error) {
    console.error('SSEé”™è¯¯:', error);
};
```

### è¿è¡Œå®Œæ•´ç¤ºä¾‹

```bash
# è®¾ç½®æ‚¨çš„ OpenAI API å¯†é’¥
export OPENAI_API_KEY=your_api_key_here

# ä»webç¤ºä¾‹ç›®å½•è¿è¡Œ
cd examples/components/web
uv run web_example.py
```

è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†ï¼š
- åŸºæœ¬HTTPæœåŠ¡å™¨è®¾ç½®
- æ™ºèƒ½ä½“ä¸Webç«¯ç‚¹é›†æˆ
- æµå¼å“åº”
- å·¥å…·è°ƒç”¨å¯è§†åŒ–

## æ›´å¤šç¤ºä¾‹

è¦äº†è§£æ›´å¤šç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹ï¼š

- **ğŸ“ `examples/components/web/`** - å®Œæ•´çš„WebæœåŠ¡å™¨å®ç°
- **ğŸ“„ `examples/components/web/README.md`** - è®¾ç½®è¯´æ˜
- **ğŸ `examples/components/web/web_example.py`** - å¯è¿è¡Œçš„æœåŠ¡å™¨ä»£ç 
- **ğŸŒ `examples/components/web/web_chat/`** - å®Œæ•´çš„èŠå¤©åº”ç”¨

## æ•…éšœæ’é™¤

### æœåŠ¡å™¨æ— æ³•å¯åŠ¨

æ£€æŸ¥ç«¯å£æ˜¯å¦å¯ç”¨ï¼š
```bash
# æ£€æŸ¥ç«¯å£8000æ˜¯å¦è¢«ä½¿ç”¨
lsof -i :8000

# å¦‚éœ€è¦ä½¿ç”¨ä¸åŒç«¯å£
server = create_server(port=8080)
```

### CORS é—®é¢˜

æ­£ç¡®é…ç½®CORSæºï¼š
```python
# âŒ é”™è¯¯ - é™åˆ¶æ€§CORS
server = create_server(cors_origins=[])

# âœ… æ­£ç¡® - å…è®¸æ‚¨çš„å‰ç«¯
server = create_server(
    cors_origins=["http://localhost:3000", "https://yourdomain.com"]
)
```

### æµå¼ä¼ è¾“ä¸å·¥ä½œ

ç¡®ä¿å¯ç”¨æµå¼ä¼ è¾“ï¼š
```python
# åœ¨é€‚é…å™¨ä¸­å¯ç”¨æµå¼ä¼ è¾“
adapter = LangGraphAdapter(
    crew=crew,
    enable_streaming=True,
    stream_tool_calls=True
)
```

### å¯¼å…¥é”™è¯¯

ç¡®ä¿æ‚¨ä»æ­£ç¡®çš„æ¨¡å—å¯¼å…¥ï¼š
```python
# æ ¸å¿ƒWebç»„ä»¶
from langcrew.web import create_server, create_langgraph_server

# é«˜çº§ç»„ä»¶
from langcrew.web import AdapterServer, LangGraphAdapter

# åè®®ç±»å‹
from langcrew.web import ChatRequest, StreamMessage
```

## ä¸‹ä¸€æ­¥

- **[é…ç½®æŒ‡å—](/zh/guides/web/configuration)** - å­¦ä¹ æ‰€æœ‰é€‰é¡¹
- **[WebæœåŠ¡æ¦‚å¿µ](/zh/concepts/web)** - ç†è§£æ¶æ„
- **ç¤ºä¾‹** - æŸ¥çœ‹ `examples/components/web/` äº†è§£å®ç°æ¡ˆä¾‹