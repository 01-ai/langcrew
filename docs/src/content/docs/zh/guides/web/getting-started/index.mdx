---
title: 快速开始
description: 快速开始使用LangCrew Web服务
---

LangCrew Web服务让您能够轻松地将AI智能体暴露为HTTP API，支持实时流式通信和丰富的Web界面。

:::tip[协议参考]
关于完整的通信协议规范和消息格式，请参见 [通信协议](/zh/guides/web/protocol) 文档。
:::

## 快速开始 - 只需3行代码！

只需3行代码即可让您的智能体作为Web服务运行：

```python
from langcrew import Agent, Crew
from langcrew.web import create_server

agent = Agent(role="助手", goal="帮助用户", backstory="有用的AI")
server = create_server(Crew(agents=[agent]))
server.run(port=8000)  # 访问 http://localhost:8000/docs
```

就这样！您的智能体现在已经可以作为Web服务使用，并自动生成API文档。

## 安装

Web服务已包含在langcrew中，无需额外安装：

```bash
uv add langcrew --prerelease=allow --index https://nexus.lingyiwanwu.net/repository/pypi-hosted/simple
```

## 详细示例

这里是针对不同使用场景的详细示例：

### 方式一：使用 LangCrew

```python
from langcrew import Agent, Crew
from langcrew.web import create_server

# 创建智能体和团队
agent = Agent(
    role="Web助手",
    goal="通过Web界面帮助用户",
    backstory="您是一个有用的基于Web的AI助手",
    verbose=True
)

crew = Crew(agents=[agent])

# 创建并启动服务器
server = create_server(
    crew=crew,
    host="0.0.0.0",
    port=8000,
    cors_origins=["http://localhost:3000"]
)

# 启动服务器
if __name__ == "__main__":
    print("在 http://localhost:8000 启动Web服务器")
    server.run()
```

### 方式二：使用 LangGraph

```python
from langcrew.web import create_langgraph_server
from langgraph.graph import StateGraph

# 创建您的LangGraph工作流
def create_workflow():
    workflow = StateGraph()
    # 在这里添加您的节点和边
    return workflow.compile()

# 使用LangGraph创建服务器
compiled_graph = create_workflow()
server = create_langgraph_server(
    graph=compiled_graph,
    host="0.0.0.0",
    port=8000,
    cors_origins=["http://localhost:3000"]
)

# 启动服务器
if __name__ == "__main__":
    print("在 http://localhost:8000 启动LangGraph Web服务器")
    server.run()
```

## 测试服务器

服务器运行后，您可以：

### 1. 访问API文档
访问 `http://localhost:8000/docs` 查看自动生成的API文档

### 2. 发送测试消息
```bash
curl -X POST "http://localhost:8000/api/v1/chat" \
     -H "Content-Type: application/json" \
     -d '{"message": "你好，你能帮我什么？"}'
```

### 3. 客户端流式接收示例

如果您需要在客户端处理流式响应：

```python
import requests
import json

# 发送消息并处理流式响应
response = requests.post('/api/v1/chat', json={
    "message": "你好，能帮我分析这个文档吗？",
    "session_id": "可选的会话ID"
}, stream=True)

# 处理流式响应
for line in response.iter_lines():
    if line:
        message = json.loads(line)
        print(f"接收到: {message['type']} - {message['content']}")
```

## 下一步

- 了解详细的消息格式，请参考 [通信协议](/zh/guides/web/protocol)
- 查看高级服务器配置，请参考 [HTTP服务器](/zh/guides/web/http-server)