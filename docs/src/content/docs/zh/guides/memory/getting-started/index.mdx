---
title: å†…å­˜ç®¡ç† - å¿«é€Ÿå¼€å§‹
description: 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹å†…å­˜ç®¡ç†
---

å¿«é€ŸæŒ‡å—ï¼Œè®©å†…å­˜ç®¡ç†åœ¨æ‚¨çš„ langcrew åº”ç”¨ä¸­å·¥ä½œã€‚

## å®‰è£…

å†…å­˜ç®¡ç†åŒ…å«åœ¨ langcrew ä¸­ - æ— éœ€é¢å¤–å®‰è£…ï¼š

```bash
uv add langcrew --prerelease=allow --index https://nexus.lingyiwanwu.net/repository/pypi-hosted/simple
```

## åŸºç¡€ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªä¸ºæ™ºèƒ½ä½“å¯ç”¨å†…å­˜çš„ç®€å•ç¤ºä¾‹ï¼š

```python
from langcrew import Agent
from langcrew.memory import MemoryConfig

# åŸºæœ¬å†…å­˜é…ç½®
memory_config = MemoryConfig(
    provider="memory",  # å¼€å‘ç”¨å†…å­˜å­˜å‚¨
    short_term={"max_history": 10},
    long_term={"enabled": True},
    entity={"enabled": True}
)

# åˆ›å»ºå…·æœ‰å†…å­˜çš„æ™ºèƒ½ä½“
agent = Agent(
    role="ä¸ªäººåŠ©æ‰‹",
    goal="åœ¨è®°ä½ä¸Šä¸‹æ–‡çš„åŒæ—¶å¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡",
    backstory="æ‚¨æ˜¯ä¸€ä¸ªæ‹¥æœ‰å®Œç¾è®°å¿†çš„æœ‰ç”¨åŠ©æ‰‹",
    memory=memory_config,
    verbose=True
)

# æµ‹è¯•å¯¹è¯
response1 = agent.execute_task("æˆ‘çš„åå­—æ˜¯å¼ ä¸‰ï¼Œæˆ‘åœ¨ABCå…¬å¸å·¥ä½œ")
print(response1)

response2 = agent.execute_task("æˆ‘çš„åå­—æ˜¯ä»€ä¹ˆï¼Œæˆ‘åœ¨å“ªé‡Œå·¥ä½œï¼Ÿ")
print(response2)  # åº”è¯¥è®°ä½å¼ ä¸‰å’ŒABCå…¬å¸
```

## æŒä¹…å†…å­˜ç¤ºä¾‹

å¯¹äºç”Ÿäº§ä½¿ç”¨ï¼Œé…ç½®æŒä¹…å­˜å‚¨ï¼š

```python
from langcrew.memory import MemoryConfig

# SQLite é…ç½®ï¼ˆæ¨èç”¨äºå•èŠ‚ç‚¹ï¼‰
memory_config = MemoryConfig(
    provider="sqlite",
    connection_string="sqlite:///langcrew_memory.db",
    short_term={"max_history": 50},
    long_term={
        "enabled": True,
        "chunk_size": 1000,
        "search_k": 10
    }
)

# PostgreSQL é…ç½®ï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰
memory_config = MemoryConfig(
    provider="postgres",
    connection_string="postgresql://user:pass@localhost/langcrew_memory"
)
```

## æµ‹è¯•æ‚¨çš„è®¾ç½®

### è¿è¡Œå®Œæ•´ç¤ºä¾‹

```bash
# è®¾ç½®æ‚¨çš„ OpenAI API å¯†é’¥
export OPENAI_API_KEY=your_api_key_here

# ä»å†…å­˜ç¤ºä¾‹ç›®å½•è¿è¡Œ
cd examples/components/memory
uv run memory_example.py
```

è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†ï¼š
- åŸºæœ¬å†…å­˜é…ç½®
- çŸ­æœŸå’Œé•¿æœŸå†…å­˜ä½¿ç”¨
- å®ä½“æå–å’Œå›å¿†
- è·¨ä¼šè¯æŒä¹…åŒ–

## æ›´å¤šç¤ºä¾‹

è¦äº†è§£æ›´å¤šç¤ºä¾‹ï¼Œè¯·æŸ¥çœ‹ï¼š

- **ğŸ“ `examples/components/memory/`** - å®Œæ•´çš„å†…å­˜å®ç°
- **ğŸ“„ `examples/components/memory/README.md`** - è®¾ç½®è¯´æ˜
- **ğŸ `examples/components/memory/memory_example.py`** - å¯è¿è¡Œä»£ç 

## æ•…éšœæ’é™¤

### å†…å­˜ä¸æŒä¹…

æ£€æŸ¥æ‚¨çš„æä¾›å•†é…ç½®ï¼š
```python
# âŒ é”™è¯¯ - ä¸ä¼šåœ¨ä¼šè¯é—´æŒä¹…åŒ–
memory_config = MemoryConfig(provider="memory")

# âœ… æ­£ç¡® - æŒä¹…åŒ–åˆ°æ•°æ®åº“
memory_config = MemoryConfig(
    provider="sqlite",
    connection_string="sqlite:///my_memory.db"
)
```

### è¿æ¥é”™è¯¯

ç¡®ä¿æ‚¨çš„æ•°æ®åº“å¯è®¿é—®ï¼š
```python
# å¯¹äº SQLiteï¼Œç¡®ä¿ç›®å½•å­˜åœ¨
import os
os.makedirs("./data", exist_ok=True)

memory_config = MemoryConfig(
    provider="sqlite",
    connection_string="sqlite:///./data/memory.db"
)
```

### å¯¼å…¥é”™è¯¯

ç¡®ä¿æ‚¨ä»æ­£ç¡®çš„æ¨¡å—å¯¼å…¥ï¼š
```python
# æ ¸å¿ƒå†…å­˜é…ç½®
from langcrew.memory import MemoryConfig

# ç‰¹å®šå†…å­˜ç±»å‹ï¼ˆå¦‚æœéœ€è¦ç›´æ¥ä½¿ç”¨ï¼‰
from langcrew.memory import ShortTermMemory, LongTermMemory, EntityMemory
```

## ä¸‹ä¸€æ­¥

- **[é…ç½®æŒ‡å—](/zh/guides/memory/configuration)** - å­¦ä¹ æ‰€æœ‰é€‰é¡¹
- **[å†…å­˜ç®¡ç†æ¦‚å¿µ](/zh/concepts/memory)** - ç†è§£æ¶æ„
- **ç¤ºä¾‹** - æŸ¥çœ‹ `examples/components/memory/` äº†è§£å®ç°æ¡ˆä¾‹