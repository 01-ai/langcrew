---
title: Memory
description: Understanding Memory - persistent state management for AI workflows
---

Memory provides persistent state and context management for AI agent workflows using LangGraph's Store and Checkpointer systems, enabling agents to maintain conversation history, knowledge, and entity information across sessions.

## What is Memory?

Memory in langcrew provides:
- **Short-term memory**: Session-based conversation history using LangGraph's Checkpointer
- **Long-term memory**: Persistent knowledge storage using LangGraph's Store system
- **Entity memory**: Track and remember entities (people, organizations, concepts) across conversations
- **Multi-provider support**: In-memory, SQLite, PostgreSQL, Redis, MongoDB, MySQL backends

## Core Architecture

Memory is built on [LangGraph's Store and Checkpointer](https://langchain-ai.github.io/langgraph/concepts/persistence/) with enhanced capabilities:

```python
from langcrew.memory import MemoryConfig

# Basic configuration
memory_config = MemoryConfig(
    provider="sqlite",
    connection_string="sqlite:///memory.db"
)
```

## Key Components

### MemoryConfig
Unified configuration for all memory types and providers.

#### Configuration Parameters

| Parameter | Type | Description | Default |
|-----------|------|-------------|---------|
| `enabled` | bool | Enable/disable memory functionality | True |
| `provider` | str | Storage provider: "memory", "sqlite", "postgres", etc. | "memory" |
| `connection_string` | str \| None | Database connection string | None |
| `short_term` | dict | Short-term memory configuration | See below |
| `long_term` | dict | Long-term memory configuration | See below |
| `entity` | dict | Entity memory configuration | See below |
| `shared_namespaces` | List[str] | Cross-project namespaces | [] |
| `thread_id` | str \| None | Fixed thread identifier | None |

### Short-term Memory
Session-based conversation history using LangGraph's Checkpointer system for immediate context retention.

```python
# Short-term memory using checkpointer
memory_config = MemoryConfig(
    short_term={
        "enabled": True,
        "auto_inject": True,  # Auto-inject context into prompts
        "max_history": 20,    # Maximum conversation turns to remember
        "relevance_threshold": 0.7
    }
)
```

### Long-term Memory
Persistent knowledge storage using LangGraph's Store system for cross-session information retention.

```python
# Long-term memory using store system
memory_config = MemoryConfig(
    long_term={
        "enabled": True,
        "embedding_model": None,  # Use default embedding model
        "chunk_size": 500,        # Text chunk size for storage
        "search_k": 5,           # Number of relevant items to retrieve
        "min_quality": 0.7       # Minimum quality threshold for storage
    }
)
```

### Entity Memory
Tracks entities (people, organizations, concepts) across conversations using structured storage.

```python
# Entity memory configuration
memory_config = MemoryConfig(
    entity={
        "enabled": True,
        "extract_entities": True,  # Auto-extract entities from conversations
        "entity_types": ["person", "organization", "location", "concept"]
    }
)
```

## Integration with langcrew

Memory integrates seamlessly with all langcrew components:

- **[Agents](/concepts/agents)**: Agents inherit memory configuration for context-aware responses
- **[Tasks](/concepts/tasks)**: Tasks maintain state across executions
- **[Crews](/concepts/crews)**: Crews share memory across team members

```python
# Integration example
from langcrew import Agent, Crew
from langcrew.memory import MemoryConfig

memory_config = MemoryConfig(
    provider="sqlite",
    connection_string="sqlite:///team_memory.db"
)

agent = Agent(
    role="Assistant",
    memory=memory_config
)

crew = Crew(
    agents=[agent],
    memory=memory_config  # Shared memory across crew
)
```

## When to Use Memory

- **Conversational agents** needing to remember user preferences and conversation history
- **Multi-session applications** requiring continuity across user interactions
- **Knowledge-intensive workflows** that need to accumulate and retrieve information
- **Team collaboration** scenarios with shared context and entity tracking
- **Customer service** applications requiring interaction history and customer profiles

## Next Steps

- **[Memory Quick Start](/guides/memory/getting-started)** - Get started in 5 minutes
- **[Memory Configuration](/guides/memory/configuration)** - Complete configuration guide
- **Examples** - Check `examples/components/memory/` for real-world implementations